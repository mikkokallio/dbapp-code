{% extends "layout.html" %}
{% block content %}

<h1 class="title">
  Events
</h1>
<h2 class="subtitle">
  Upcoming events
</h2>
<div class="box is-flex is-vcentered"><a href="/new_event" class="button is-primary"><i class="fas fa-2x fa-plus-square"></i> New event</a></div>
<div>
  <div>Number of events: {{ count }}</div>
  {% for event in events %}
  <div class="box">
    <div class="columns">
      <div class="column is-one-fifth">
        <figure class="image is-128x128">
          <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
        </figure>
      </div>
      <div class="column">
        <div><i class="fas fa-calendar"></i> {{ event.date }}</div>
        <div>
          <h2 class="subtitle">
            <a href="/event/{{ event.id }}">{{ event.title }}</a>
          </h2>
        </div>
      </div>
      <div class="column">
        {% if session.username == event.hostname %}
        <i class="fa-solid fa-star fa-beat" style="--fa-animation-duration: 2s;"></i> Event organizer
        {% else %}
        <i class="fas fa-star"></i> Organized by <a class="js-modal-trigger" data-target="user-modal">{{ event.hostname }}</a>
        {% endif %}
      </div>
    </div>
    </a>
  </div>

  {% endfor %}
</div>

<div id="user-modal" class="modal">
  <div class="modal-background"></div>

  <div class="modal-content">
    <div class="box">
      <p>Modal JS example</p>
      <!-- Your content -->
    </div>
  </div>

  <button class="modal-close is-large" aria-label="close"></button>
</div>
{% endblock %}