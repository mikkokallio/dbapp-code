{% extends "layout.html" %}
{% block content %}

<h1 class="title">
  Events
</h1>
<h2 class="subtitle">
  Upcoming events
</h2>
<div class="box is-flex is-vcentered"><a href="/new_event" class="button is-primary"><i class="fas fa-2x fa-plus-square"></i> New event</a></div>
<div>
  <div>Number of events: {{ count }}</div>
  {% for unit in events %}
  <div class="box">
    <div class="columns">
      <div class="column is-one-fifth">
        <figure class="image is-128x128">
          <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
        </figure>
      </div>
      <div class="column">
        <div><i class="fas fa-calendar"></i> {{ unit.date }}</div>
        <div>
          <h2 class="subtitle">
            <a href="/event/{{ unit.id }}">{{ unit.title }}</a>
          </h2>
        </div>
      </div>
      <div class="column">
        {% if session.username == unit.username %}
        <i class="fa-solid fa-star fa-beat" style="--fa-animation-duration: 2s;"></i> Event organizer
        {% else %}
        <i class="fas fa-star"></i> Organized by <a class="js-modal-trigger" data-target="user-modal{{ unit.username }}">{{ unit.username }}</a>
        {% endif %}
      </div>
    </div>
    </a>
  </div>

  {% include "user_modal.html" %}
  {% endfor %}
</div>

{% endblock %}